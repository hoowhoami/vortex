# Vortex è®¾è®¡è§„èŒƒæ–‡æ¡£

> é¡¹ç›®åç§°: Vortex
> è®¾è®¡ç‰ˆæœ¬: 1.0
> åˆ›å»ºæ—¥æœŸ: 2026-01-07
> è®¾è®¡é£æ ¼: ç®€çº¦ç°ä»£é£ï¼ˆæ”¹è¿›ç‰ˆï¼‰

---

## ä¸€ã€é¡¹ç›®æ„¿æ™¯

### 1.1 äº§å“å®šä½

Vortex æ˜¯ä¸€æ¬¾**ç°ä»£åŒ–è·¨å¹³å°å°è¯´é˜…è¯»åº”ç”¨**ï¼Œç»§æ‰¿ Legado çš„å¼ºå¤§åŠŸèƒ½ï¼Œæä¾›æ›´ä¼˜é›…çš„é˜…è¯»ä½“éªŒã€‚

**æ ¸å¿ƒä»·å€¼ä¸»å¼ :**
- ğŸ“± è·¨å¹³å°æ”¯æŒ (iOS + Android)
- ğŸ¨ ç°ä»£ç®€çº¦çš„ UI è®¾è®¡
- ğŸ‘ï¸ æŠ¤çœ¼ä¼˜å…ˆçš„é…è‰²æ–¹æ¡ˆ
- âš¡ æµç•…é«˜æ€§èƒ½çš„é˜…è¯»ä½“éªŒ
- ğŸ”§ å¼ºå¤§çš„è‡ªå®šä¹‰èƒ½åŠ›

### 1.2 ç›®æ ‡ç”¨æˆ·

```
ä¸»è¦ç”¨æˆ·ç¾¤ä½“:
â”œâ”€ å­¦ç”Ÿç¾¤ä½“ (18-25å²) - 35%
â”‚  â””â”€ éœ€æ±‚: å…è´¹ã€åŠŸèƒ½ä¸°å¯Œã€ç•Œé¢ç°ä»£
â”‚
â”œâ”€ èŒåœºäººå£« (25-35å²) - 40%
â”‚  â””â”€ éœ€æ±‚: æŠ¤çœ¼ã€ä¾¿æ·ã€è·¨å¹³å°åŒæ­¥
â”‚
â”œâ”€ èµ„æ·±ä¹¦è™« (30-45å²) - 20%
â”‚  â””â”€ éœ€æ±‚: è‡ªå®šä¹‰ã€ç¨³å®šã€åŠŸèƒ½å®Œå–„
â”‚
â””â”€ æŠ€æœ¯çˆ±å¥½è€… (å…¨å¹´é¾„) - 5%
   â””â”€ éœ€æ±‚: å¼€æºã€å¯æŠ˜è…¾ã€ä¹¦æºè§„åˆ™
```

### 1.3 å·®å¼‚åŒ–ç­–ç•¥

| å¯¹æ¯”ç»´åº¦ | Legado | å¾®ä¿¡è¯»ä¹¦ | Kindle | Vortex |
|---------|--------|----------|--------|--------|
| **è·¨å¹³å°** | âŒ | âœ… | âœ… | âœ… |
| **è‡ªå®šä¹‰ä¹¦æº** | âœ… | âŒ | âŒ | âœ… |
| **ç°ä»£ UI** | â­â­ | â­â­â­â­ | â­â­â­ | â­â­â­â­â­ |
| **æŠ¤çœ¼è®¾è®¡** | â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ |
| **åŠŸèƒ½ä¸°å¯Œåº¦** | â­â­â­â­â­ | â­â­â­ | â­â­â­ | â­â­â­â­â­ |
| **å¼€æº** | âœ… | âŒ | âŒ | âœ… |

---

## äºŒã€æŠ€æœ¯æ¶æ„

### 2.1 æŠ€æœ¯æ ˆé€‰å‹

#### æ ¸å¿ƒæŠ€æœ¯

```yaml
è·¨å¹³å°æ¡†æ¶:
  é€‰æ‹©: Flutter 3.x
  ç†ç”±:
    - é«˜æ€§èƒ½ (æ¥è¿‘åŸç”Ÿ 60fps)
    - UI ä¸€è‡´æ€§å¥½
    - å¼€å‘æ•ˆç‡é«˜
    - ç¤¾åŒºæ´»è·ƒ

å¼€å‘è¯­è¨€:
  ä¸»è¯­è¨€: Dart 3.x
  åŸç”Ÿæ‰©å±•: Swift (iOS), Kotlin (Android)

UI æ¡†æ¶:
  è®¾è®¡ç³»ç»Ÿ: Material Design 3
  é£æ ¼å®šåˆ¶: ç®€çº¦ç°ä»£é£

çŠ¶æ€ç®¡ç†:
  é€‰æ‹©: Riverpod 2.x
  ç†ç”±:
    - ç¼–è¯‘æ—¶å®‰å…¨
    - å¼ºå¤§çš„ä¾èµ–æ³¨å…¥
    - æ˜“äºæµ‹è¯•

æ•°æ®åº“:
  é€‰æ‹©: Isar 3.x
  ç†ç”±:
    - è¶…å¿«çš„æŸ¥è¯¢æ€§èƒ½
    - å®Œæ•´çš„ Dart æ”¯æŒ
    - é›¶é…ç½®

ç½‘ç»œå±‚:
  HTTP Client: Dio 5.x
  HTTP Engine: Cronet (å¯é€‰)
  HTML è§£æ: html + beautiful_soup_dart

JavaScript å¼•æ“:
  é€‰æ‹©: QuickJS (FFI)
  ç†ç”±:
    - æ€§èƒ½æœ€ä¼˜
    - å†…å­˜å ç”¨ä½
    - ES6+ æ”¯æŒ
```

#### ä¾èµ–æ¸…å•

```yaml
dependencies:
  flutter:
    sdk: flutter

  # çŠ¶æ€ç®¡ç†
  flutter_riverpod: ^2.4.0
  riverpod_annotation: ^2.3.0

  # æ•°æ®åº“
  isar: ^3.1.0
  isar_flutter_libs: ^3.1.0
  path_provider: ^2.1.0

  # ç½‘ç»œ
  dio: ^5.4.0
  html: ^0.15.4
  xpath_selector: ^3.0.0

  # JavaScript å¼•æ“
  flutter_qjs: ^0.5.0  # QuickJS FFI binding

  # UI ç»„ä»¶
  google_fonts: ^6.1.0
  flutter_svg: ^2.0.9
  cached_network_image: ^3.3.0

  # åŠŸèƒ½åº“
  shared_preferences: ^2.2.2
  file_picker: ^6.1.1
  permission_handler: ^11.1.0
  webdav_client: ^1.2.1

  # å·¥å…·åº“
  freezed_annotation: ^2.4.1
  json_annotation: ^4.8.1
  logger: ^2.0.2

dev_dependencies:
  flutter_test:
    sdk: flutter
  flutter_lints: ^3.0.1

  # ä»£ç ç”Ÿæˆ
  build_runner: ^2.4.7
  riverpod_generator: ^2.3.0
  freezed: ^2.4.6
  json_serializable: ^6.7.1
  isar_generator: ^3.1.0
```

### 2.2 æ¶æ„æ¨¡å¼

**Clean Architecture + MVVM**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Presentation Layer                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Pages   â”‚  â”‚ Widgets  â”‚  â”‚  Theme   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚       â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Controllers (Riverpod Providers)     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Domain Layer                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Entities â”‚  â”‚ UseCases â”‚  â”‚Repositoryâ”‚ â”‚
â”‚  â”‚          â”‚  â”‚          â”‚  â”‚Interface â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Data Layer                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Models  â”‚  â”‚Repositoryâ”‚  â”‚DataSourceâ”‚ â”‚
â”‚  â”‚          â”‚  â”‚  Impl    â”‚  â”‚          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Local   â”‚              â”‚  Remote  â”‚   â”‚
â”‚  â”‚ Database â”‚              â”‚ Network  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 ç›®å½•ç»“æ„

```
lib/
â”œâ”€â”€ main.dart                       # åº”ç”¨å…¥å£
â”‚
â”œâ”€â”€ core/                           # æ ¸å¿ƒå±‚
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ app_config.dart        # åº”ç”¨é…ç½®
â”‚   â”‚   â””â”€â”€ env_config.dart        # ç¯å¢ƒé…ç½®
â”‚   â”œâ”€â”€ constants/
â”‚   â”‚   â”œâ”€â”€ app_constants.dart     # åº”ç”¨å¸¸é‡
â”‚   â”‚   â””â”€â”€ api_constants.dart     # API å¸¸é‡
â”‚   â”œâ”€â”€ error/
â”‚   â”‚   â”œâ”€â”€ exceptions.dart        # å¼‚å¸¸å®šä¹‰
â”‚   â”‚   â””â”€â”€ failures.dart          # é”™è¯¯å¤„ç†
â”‚   â”œâ”€â”€ network/
â”‚   â”‚   â”œâ”€â”€ dio_client.dart        # Dio å°è£…
â”‚   â”‚   â””â”€â”€ network_info.dart      # ç½‘ç»œçŠ¶æ€
â”‚   â”œâ”€â”€ storage/
â”‚   â”‚   â”œâ”€â”€ storage_service.dart   # å­˜å‚¨æœåŠ¡
â”‚   â”‚   â””â”€â”€ secure_storage.dart    # å®‰å…¨å­˜å‚¨
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ logger.dart            # æ—¥å¿—å·¥å…·
â”‚       â”œâ”€â”€ date_utils.dart        # æ—¥æœŸå·¥å…·
â”‚       â””â”€â”€ text_utils.dart        # æ–‡æœ¬å·¥å…·
â”‚
â”œâ”€â”€ data/                           # æ•°æ®å±‚
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ book_model.dart
â”‚   â”‚   â”œâ”€â”€ chapter_model.dart
â”‚   â”‚   â””â”€â”€ book_source_model.dart
â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â”œâ”€â”€ book_repository_impl.dart
â”‚   â”‚   â”œâ”€â”€ source_repository_impl.dart
â”‚   â”‚   â””â”€â”€ user_repository_impl.dart
â”‚   â”œâ”€â”€ datasources/
â”‚   â”‚   â”œâ”€â”€ local/
â”‚   â”‚   â”‚   â”œâ”€â”€ book_local_datasource.dart
â”‚   â”‚   â”‚   â””â”€â”€ cache_datasource.dart
â”‚   â”‚   â””â”€â”€ remote/
â”‚   â”‚       â””â”€â”€ book_remote_datasource.dart
â”‚   â””â”€â”€ database/
â”‚       â”œâ”€â”€ database.dart          # Isar æ•°æ®åº“
â”‚       â”œâ”€â”€ entities/
â”‚       â”‚   â”œâ”€â”€ book_entity.dart
â”‚       â”‚   â”œâ”€â”€ chapter_entity.dart
â”‚       â”‚   â””â”€â”€ source_entity.dart
â”‚       â””â”€â”€ daos/
â”‚           â”œâ”€â”€ book_dao.dart
â”‚           â””â”€â”€ source_dao.dart
â”‚
â”œâ”€â”€ domain/                         # é¢†åŸŸå±‚
â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”œâ”€â”€ book.dart
â”‚   â”‚   â”œâ”€â”€ chapter.dart
â”‚   â”‚   â”œâ”€â”€ book_source.dart
â”‚   â”‚   â””â”€â”€ reading_progress.dart
â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â”œâ”€â”€ book_repository.dart
â”‚   â”‚   â”œâ”€â”€ source_repository.dart
â”‚   â”‚   â””â”€â”€ user_repository.dart
â”‚   â””â”€â”€ usecases/
â”‚       â”œâ”€â”€ book/
â”‚       â”‚   â”œâ”€â”€ get_books.dart
â”‚       â”‚   â”œâ”€â”€ add_book.dart
â”‚       â”‚   â””â”€â”€ delete_book.dart
â”‚       â”œâ”€â”€ reading/
â”‚       â”‚   â”œâ”€â”€ get_chapter_content.dart
â”‚       â”‚   â””â”€â”€ save_reading_progress.dart
â”‚       â””â”€â”€ source/
â”‚           â”œâ”€â”€ search_books.dart
â”‚           â””â”€â”€ parse_book_info.dart
â”‚
â”œâ”€â”€ presentation/                   # å±•ç¤ºå±‚
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ bookshelf/
â”‚   â”‚   â”‚   â”œâ”€â”€ bookshelf_page.dart
â”‚   â”‚   â”‚   â””â”€â”€ widgets/
â”‚   â”‚   â”œâ”€â”€ reading/
â”‚   â”‚   â”‚   â”œâ”€â”€ reading_page.dart
â”‚   â”‚   â”‚   â””â”€â”€ widgets/
â”‚   â”‚   â”œâ”€â”€ explore/
â”‚   â”‚   â”‚   â”œâ”€â”€ explore_page.dart
â”‚   â”‚   â”‚   â””â”€â”€ widgets/
â”‚   â”‚   â”œâ”€â”€ source/
â”‚   â”‚   â”‚   â”œâ”€â”€ source_manager_page.dart
â”‚   â”‚   â”‚   â””â”€â”€ widgets/
â”‚   â”‚   â””â”€â”€ settings/
â”‚   â”‚       â”œâ”€â”€ settings_page.dart
â”‚   â”‚       â””â”€â”€ widgets/
â”‚   â”œâ”€â”€ widgets/
â”‚   â”‚   â”œâ”€â”€ common/
â”‚   â”‚   â”‚   â”œâ”€â”€ loading_widget.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ error_widget.dart
â”‚   â”‚   â”‚   â””â”€â”€ empty_widget.dart
â”‚   â”‚   â””â”€â”€ book/
â”‚   â”‚       â”œâ”€â”€ book_cover.dart
â”‚   â”‚       â””â”€â”€ book_card.dart
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ bookshelf_controller.dart
â”‚   â”‚   â”œâ”€â”€ reading_controller.dart
â”‚   â”‚   â””â”€â”€ source_controller.dart
â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â””â”€â”€ providers.dart         # Riverpod providers
â”‚   â””â”€â”€ theme/
â”‚       â”œâ”€â”€ app_theme.dart
â”‚       â”œâ”€â”€ colors.dart
â”‚       â”œâ”€â”€ text_styles.dart
â”‚       â””â”€â”€ dimensions.dart
â”‚
â”œâ”€â”€ services/                       # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ book_source/
â”‚   â”‚   â”œâ”€â”€ book_source_service.dart
â”‚   â”‚   â”œâ”€â”€ rule_parser.dart
â”‚   â”‚   â””â”€â”€ content_matcher.dart
â”‚   â”œâ”€â”€ content_parser/
â”‚   â”‚   â”œâ”€â”€ html_parser.dart
â”‚   â”‚   â”œâ”€â”€ xpath_parser.dart
â”‚   â”‚   â””â”€â”€ json_parser.dart
â”‚   â”œâ”€â”€ js_engine/
â”‚   â”‚   â”œâ”€â”€ js_engine_service.dart
â”‚   â”‚   â””â”€â”€ js_runtime.dart
â”‚   â”œâ”€â”€ reader/
â”‚   â”‚   â”œâ”€â”€ text_layout_engine.dart
â”‚   â”‚   â”œâ”€â”€ page_controller.dart
â”‚   â”‚   â””â”€â”€ page_animator.dart
â”‚   â”œâ”€â”€ sync/
â”‚   â”‚   â”œâ”€â”€ webdav_sync_service.dart
â”‚   â”‚   â””â”€â”€ sync_manager.dart
â”‚   â””â”€â”€ local_book/
â”‚       â”œâ”€â”€ epub_parser.dart
â”‚       â”œâ”€â”€ txt_parser.dart
â”‚       â””â”€â”€ file_manager.dart
â”‚
â”œâ”€â”€ l10n/                           # å›½é™…åŒ–
â”‚   â”œâ”€â”€ app_en.arb
â”‚   â””â”€â”€ app_zh.arb
â”‚
â””â”€â”€ router/                         # è·¯ç”±
    â”œâ”€â”€ app_router.dart
    â””â”€â”€ route_guards.dart
```

---

## ä¸‰ã€UI/UX è®¾è®¡è§„èŒƒ

### 3.1 è®¾è®¡åŸåˆ™

**æ ¸å¿ƒåŸåˆ™: å†…å®¹ä¼˜å…ˆï¼Œä½“éªŒè‡³ä¸Š**

1. **ç®€çº¦å…‹åˆ¶** - å‡å°‘ä¸å¿…è¦çš„è§†è§‰å…ƒç´ 
2. **æŠ¤çœ¼å‹å¥½** - æŸ”å’Œé…è‰²ï¼Œé™ä½è§†è§‰ç–²åŠ³
3. **æµç•…è‡ªç„¶** - ç¬¦åˆç‰©ç†ç›´è§‰çš„åŠ¨ç”»
4. **æ¸…æ™°å±‚çº§** - ä¿¡æ¯æ¶æ„æ¸…æ™°
5. **é«˜æ•ˆæ“ä½œ** - å‡å°‘ç‚¹å‡»æ¬¡æ•°

### 3.2 è‰²å½©ç³»ç»Ÿ

#### ä¸»è‰²æ¿

```dart
class VortexColors {
  // ===== ä¸»è‰²ç³» =====
  static const Color primary = Color(0xFF5B7C99);        // æŸ”å’Œè“ç°
  static const Color primaryLight = Color(0xFF8DABC8);   // æµ…è“ç°
  static const Color primaryDark = Color(0xFF3D5A75);    // æ·±è“ç°

  // ===== è¾…åŠ©è‰² =====
  static const Color secondary = Color(0xFFB8A48E);      // æš–é»„è‰²
  static const Color tertiary = Color(0xFF91AC8F);       // æŠ¤çœ¼ç»¿

  // ===== åŠŸèƒ½è‰² =====
  static const Color success = Color(0xFF10B981);        // æˆåŠŸç»¿
  static const Color warning = Color(0xFFF59E0B);        // è­¦å‘Šé»„
  static const Color error = Color(0xFFEF4444);          // é”™è¯¯çº¢
  static const Color info = Color(0xFF3B82F6);           // ä¿¡æ¯è“

  // ===== ä¸­æ€§è‰² =====
  static const Color gray50 = Color(0xFFFAFAFA);
  static const Color gray100 = Color(0xFFF4F4F5);
  static const Color gray200 = Color(0xFFE4E4E7);
  static const Color gray300 = Color(0xFFD4D4D8);
  static const Color gray400 = Color(0xFFA1A1AA);
  static const Color gray500 = Color(0xFF71717A);
  static const Color gray600 = Color(0xFF52525B);
  static const Color gray700 = Color(0xFF3F3F46);
  static const Color gray800 = Color(0xFF27272A);
  static const Color gray900 = Color(0xFF18181B);

  // ===== é˜…è¯»èƒŒæ™¯è‰² =====
  static const Map<String, Color> readingBackgrounds = {
    'paper': Color(0xFFFBF8F2),        // çº¸å¼ è‰² (é»˜è®¤)
    'parchment': Color(0xFFF4EDD8),    // ç¾Šçš®çº¸
    'eyeCare': Color(0xFFE3EDCD),      // æŠ¤çœ¼ç»¿
    'beige': Color(0xFFF5F5DC),        // ç±³é»„è‰²
    'night': Color(0xFF1A202C),        // å¤œé—´æ¨¡å¼
    'amoled': Color(0xFF000000),       // OLED çº¯é»‘
  };

  // ===== æ–‡å­—é¢œè‰² (é™ä½å¯¹æ¯”åº¦ï¼ŒæŠ¤çœ¼) =====
  static const Color textPrimary = Color(0xFF2D3748);    // ä¸»æ–‡å­— (éçº¯é»‘)
  static const Color textSecondary = Color(0xFF4A5568);  // æ¬¡è¦æ–‡å­—
  static const Color textTertiary = Color(0xFF718096);   // æç¤ºæ–‡å­—
  static const Color textDisabled = Color(0xFFA0AEC0);   // ç¦ç”¨æ–‡å­—

  // æ·±è‰²æ¨¡å¼æ–‡å­—
  static const Color textPrimaryDark = Color(0xFFE2E8F0);
  static const Color textSecondaryDark = Color(0xFFCBD5E0);
  static const Color textTertiaryDark = Color(0xFFA0AEC0);
}
```

#### é…è‰²ä½¿ç”¨è§„èŒƒ

```dart
// âœ… æ­£ç¡®ä½¿ç”¨
Text(
  'ä¹¦å',
  style: TextStyle(color: VortexColors.textPrimary),
)

// âŒ é”™è¯¯ä½¿ç”¨ (é¿å…çº¯é»‘è‰²)
Text(
  'ä¹¦å',
  style: TextStyle(color: Colors.black),
)
```

### 3.3 å­—ä½“ç³»ç»Ÿ

#### å­—ä½“å®¶æ—

```dart
class VortexFonts {
  // ç³»ç»Ÿé»˜è®¤å­—ä½“
  static const String systemFont = 'System';

  // é˜…è¯»å­—ä½“ï¼ˆè¡¬çº¿ï¼‰
  static const String readingSerif = 'SourceHanSerif';    // æ€æºå®‹ä½“
  static const String readingSans = 'SourceHanSans';      // æ€æºé»‘ä½“

  // UI å­—ä½“ï¼ˆæ— è¡¬çº¿ï¼‰
  static const String uiFont = 'Inter';                   // ç°ä»£æ— è¡¬çº¿

  // ç­‰å®½å­—ä½“ï¼ˆä»£ç ã€è§„åˆ™ç¼–è¾‘ï¼‰
  static const String monoFont = 'JetBrainsMono';
}
```

#### å­—å·ç³»ç»Ÿ

```dart
class VortexTextSizes {
  // æ ‡é¢˜å­—å·
  static const double heading1 = 28.0;
  static const double heading2 = 24.0;
  static const double heading3 = 20.0;
  static const double heading4 = 18.0;

  // æ­£æ–‡å­—å·
  static const double bodyLarge = 18.0;     // é˜…è¯»æ­£æ–‡ï¼ˆå¤§ï¼‰
  static const double bodyMedium = 16.0;    // é˜…è¯»æ­£æ–‡ï¼ˆä¸­ï¼‰
  static const double bodySmall = 14.0;     // æ¬¡è¦æ–‡å­—

  // è¾…åŠ©å­—å·
  static const double caption = 12.0;       // è¯´æ˜æ–‡å­—
  static const double overline = 10.0;      // æ ‡ç­¾æ–‡å­—
}
```

#### æ’ç‰ˆè§„èŒƒ

```dart
class VortexTextStyles {
  // é˜…è¯»æ­£æ–‡ï¼ˆæœ€é‡è¦ï¼‰
  static TextStyle get readingBody => TextStyle(
    fontSize: 18,
    height: 1.8,                    // è¡Œé«˜ 1.8
    letterSpacing: 0.5,             // å­—é—´è· 0.5px
    fontFamily: VortexFonts.readingSerif,
    color: VortexColors.textPrimary,
    fontWeight: FontWeight.w400,
  );

  // æ ‡é¢˜ H1
  static TextStyle get h1 => TextStyle(
    fontSize: VortexTextSizes.heading1,
    height: 1.3,
    fontWeight: FontWeight.w700,
    letterSpacing: -0.5,
    color: VortexColors.textPrimary,
  );

  // æ ‡é¢˜ H2
  static TextStyle get h2 => TextStyle(
    fontSize: VortexTextSizes.heading2,
    height: 1.4,
    fontWeight: FontWeight.w600,
    letterSpacing: -0.3,
    color: VortexColors.textPrimary,
  );

  // æ­£æ–‡æ–‡å­—
  static TextStyle get bodyText => TextStyle(
    fontSize: VortexTextSizes.bodyMedium,
    height: 1.6,
    letterSpacing: 0.2,
    color: VortexColors.textPrimary,
  );

  // æ¬¡è¦æ–‡å­—
  static TextStyle get caption => TextStyle(
    fontSize: VortexTextSizes.caption,
    height: 1.4,
    color: VortexColors.textSecondary,
  );
}
```

### 3.4 é—´è·ç³»ç»Ÿ

```dart
class VortexSpacing {
  // åŸºç¡€é—´è·å•ä½: 4px
  static const double unit = 4.0;

  // é—´è·çº§åˆ«
  static const double xs = unit;          // 4px
  static const double sm = unit * 2;      // 8px
  static const double md = unit * 3;      // 12px
  static const double lg = unit * 4;      // 16px
  static const double xl = unit * 5;      // 20px
  static const double xxl = unit * 6;     // 24px
  static const double xxxl = unit * 8;    // 32px

  // é¡µé¢è¾¹è·
  static const double pagePadding = lg;   // 16px

  // å¡ç‰‡é—´è·
  static const double cardMargin = sm;    // 8px
  static const double cardPadding = lg;   // 16px

  // åˆ—è¡¨é—´è·
  static const double listItemSpacing = md;  // 12px

  // ç»„ä»¶å†…é—´è·
  static const double componentPadding = md; // 12px
}
```

### 3.5 åœ†è§’ç³»ç»Ÿ

```dart
class VortexRadius {
  // åœ†è§’å¤§å°
  static const double none = 0;
  static const double sm = 6.0;
  static const double md = 10.0;
  static const double lg = 12.0;
  static const double xl = 16.0;
  static const double xxl = 20.0;
  static const double full = 9999.0;  // å…¨åœ†è§’

  // é»˜è®¤å¡ç‰‡åœ†è§’
  static const double card = lg;      // 12px

  // æŒ‰é’®åœ†è§’
  static const double button = md;    // 10px

  // è¾“å…¥æ¡†åœ†è§’
  static const double input = md;     // 10px

  // å¯¹è¯æ¡†åœ†è§’
  static const double dialog = xl;    // 16px
}
```

### 3.6 é˜´å½±ç³»ç»Ÿ

```dart
class VortexShadows {
  // è½»å¾®é˜´å½±ï¼ˆå¡ç‰‡ï¼‰
  static List<BoxShadow> get sm => [
    BoxShadow(
      color: Colors.black.withOpacity(0.03),
      blurRadius: 4,
      offset: Offset(0, 1),
    ),
  ];

  // ä¸­ç­‰é˜´å½±ï¼ˆæ‚¬æµ®æŒ‰é’®ï¼‰
  static List<BoxShadow> get md => [
    BoxShadow(
      color: Colors.black.withOpacity(0.05),
      blurRadius: 8,
      offset: Offset(0, 2),
    ),
  ];

  // è¾ƒå¤§é˜´å½±ï¼ˆå¯¹è¯æ¡†ï¼‰
  static List<BoxShadow> get lg => [
    BoxShadow(
      color: Colors.black.withOpacity(0.08),
      blurRadius: 16,
      offset: Offset(0, 4),
    ),
  ];

  // å¼ºçƒˆé˜´å½±ï¼ˆæµ®å±‚ï¼‰
  static List<BoxShadow> get xl => [
    BoxShadow(
      color: Colors.black.withOpacity(0.12),
      blurRadius: 24,
      offset: Offset(0, 8),
    ),
  ];
}
```

### 3.7 åŠ¨ç”»ç³»ç»Ÿ

```dart
class VortexAnimations {
  // åŠ¨ç”»æ—¶é•¿
  static const Duration fast = Duration(milliseconds: 150);
  static const Duration normal = Duration(milliseconds: 250);
  static const Duration slow = Duration(milliseconds: 350);

  // åŠ¨ç”»æ›²çº¿
  static const Curve easeIn = Curves.easeIn;
  static const Curve easeOut = Curves.easeOut;
  static const Curve easeInOut = Curves.easeInOut;
  static const Curve smooth = Curves.easeOutCubic;      // æœ€å¸¸ç”¨
  static const Curve spring = Curves.elasticOut;

  // é¡µé¢è¿‡æ¸¡
  static const Duration pageTransition = normal;
  static const Curve pageTransitionCurve = smooth;

  // å¾®åŠ¨æ•ˆ
  static const Duration microInteraction = fast;
  static const Curve microInteractionCurve = easeOut;
}
```

### 3.8 ç»„ä»¶è§„èŒƒ

#### å¡ç‰‡ç»„ä»¶

```dart
class VortexCard extends StatelessWidget {
  final Widget child;
  final EdgeInsets? padding;
  final EdgeInsets? margin;
  final VoidCallback? onTap;

  const VortexCard({
    required this.child,
    this.padding,
    this.margin,
    this.onTap,
  });

  @override
  Widget build(BuildContext context) {
    return Container(
      margin: margin ?? EdgeInsets.symmetric(
        horizontal: VortexSpacing.lg,
        vertical: VortexSpacing.sm,
      ),
      decoration: BoxDecoration(
        color: Colors.white,
        borderRadius: BorderRadius.circular(VortexRadius.card),
        boxShadow: VortexShadows.sm,
      ),
      child: Material(
        color: Colors.transparent,
        borderRadius: BorderRadius.circular(VortexRadius.card),
        child: InkWell(
          onTap: onTap,
          borderRadius: BorderRadius.circular(VortexRadius.card),
          child: Padding(
            padding: padding ?? EdgeInsets.all(VortexSpacing.lg),
            child: child,
          ),
        ),
      ),
    );
  }
}
```

#### æŒ‰é’®ç»„ä»¶

```dart
class VortexButton extends StatelessWidget {
  final String text;
  final VoidCallback? onPressed;
  final bool isPrimary;

  const VortexButton({
    required this.text,
    this.onPressed,
    this.isPrimary = true,
  });

  @override
  Widget build(BuildContext context) {
    return ElevatedButton(
      onPressed: onPressed,
      style: ElevatedButton.styleFrom(
        backgroundColor: isPrimary
          ? VortexColors.primary
          : VortexColors.gray100,
        foregroundColor: isPrimary
          ? Colors.white
          : VortexColors.textPrimary,
        elevation: 0,
        padding: EdgeInsets.symmetric(
          horizontal: VortexSpacing.xl,
          vertical: VortexSpacing.md,
        ),
        shape: RoundedRectangleBorder(
          borderRadius: BorderRadius.circular(VortexRadius.button),
        ),
      ),
      child: Text(
        text,
        style: TextStyle(
          fontSize: VortexTextSizes.bodyMedium,
          fontWeight: FontWeight.w500,
        ),
      ),
    );
  }
}
```

---

## å››ã€æ ¸å¿ƒåŠŸèƒ½è®¾è®¡

### 4.1 ä¹¦æ¶ç•Œé¢

**è®¾è®¡ç›®æ ‡:**
- å¿«é€Ÿæ‰¾åˆ°æƒ³è¯»çš„ä¹¦
- æ¸…æ™°çš„é˜…è¯»è¿›åº¦å±•ç¤º
- ä¾¿æ·çš„ç®¡ç†æ“ä½œ

**å¸ƒå±€ç»“æ„:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â˜°  ä¹¦æ¶           ğŸ”  âš™ï¸           â”‚  AppBar (ç®€æ´)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  ğŸ“š æ­£åœ¨é˜…è¯» (3æœ¬)        æ›´å¤š >    â”‚  Section Header
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ å°é¢ â”‚  â”‚ å°é¢ â”‚  â”‚ å°é¢ â”‚    â”‚  æ¨ªå‘æ»šåŠ¨
â”‚  â”‚ ä¹¦å â”‚  â”‚ ä¹¦å â”‚  â”‚ ä¹¦å â”‚    â”‚
â”‚  â””â”€ 75%â”€â”˜  â””â”€ 32%â”€â”˜  â””â”€ 90%â”€â”˜    â”‚  è¿›åº¦æ¡
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  åˆ†å‰²çº¿
â”‚                                     â”‚
â”‚  ğŸ“– æˆ‘çš„ä¹¦æ¶ (52æœ¬)        â‹®       â”‚  Section Header
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ–¼ï¸  [å°é¢]                   â”‚  â”‚
â”‚  â”‚     ã€Šå‰‘æ¥ã€‹                 â”‚  â”‚  å¡ç‰‡å¼åˆ—è¡¨
â”‚  â”‚     çƒ½ç«æˆè¯¸ä¾¯ Â· ç¬¬1245ç«     â”‚  â”‚
â”‚  â”‚     â”â”â”â”â”â—â”â”â”â”â” 45%         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…³é”®ç‰¹æ€§:**
- åˆ†ç»„å±•ç¤º: æ­£åœ¨é˜…è¯» / å…¨éƒ¨ä¹¦ç± / è‡ªå®šä¹‰åˆ†ç»„
- è¿›åº¦å¯è§†åŒ–: è¿›åº¦æ¡ + ç™¾åˆ†æ¯”
- å¿«é€Ÿæ“ä½œ: é•¿æŒ‰æ˜¾ç¤ºèœå• (åˆ é™¤ã€ç§»åŠ¨ã€è¯¦æƒ…)
- æœç´¢è¿‡æ»¤: æ”¯æŒä¹¦åã€ä½œè€…æœç´¢
- æ’åºæ–¹å¼: æœ€è¿‘é˜…è¯»ã€æ·»åŠ æ—¶é—´ã€ä¹¦å

### 4.2 é˜…è¯»ç•Œé¢

**è®¾è®¡ç›®æ ‡:**
- æ²‰æµ¸å¼é˜…è¯»ä½“éªŒ
- é›¶å¹²æ‰°
- å¿«é€Ÿè°ƒæ•´è®¾ç½®

**é˜…è¯»æ¨¡å¼:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                     â”‚
â”‚                                     â”‚
â”‚        ç¬¬åäºŒç«  å‰‘æŒ‡è‹ç©¹            â”‚  è½»è§¦æ˜¾ç¤ºç« èŠ‚å
â”‚                                     â”‚
â”‚    "è¿™ä¸€å‰‘ï¼Œç ´è‹ç©¹ï¼"               â”‚
â”‚                                     â”‚
â”‚    æ—é£æ‰‹æŒé•¿å‰‘ï¼Œå‰‘å°–ç›´æŒ‡å¤©         â”‚
â”‚  é™…ã€‚æ•´ä¸ªäººçš„æ°”åŠ¿åœ¨è¿™ä¸€åˆ»æ”€å‡       â”‚  å¤§å­—å·ã€é«˜è¡Œè·
â”‚  åˆ°äº†æè‡´ã€‚å‘¨å›´çš„çµæ°”ç–¯ç‹‚åœ°å‘       â”‚  æ²‰æµ¸å¼é˜…è¯»
â”‚  ä»–æ±‡èšï¼Œå¤©ç©ºä¸­ä¹Œäº‘å¯†å¸ƒï¼Œé›·ç”µ       â”‚  æŠ¤çœ¼é…è‰²
â”‚  äº¤åŠ ã€‚                             â”‚
â”‚                                     â”‚
â”‚    "è½°éš†éš†â€”â€”"                      â”‚
â”‚                                     â”‚
â”‚    ä¸€é“æƒŠå¤©é›·éœ†ä»å¤©è€Œé™ï¼Œç›´         â”‚
â”‚  å‡»æ—é£æ‰‹ä¸­çš„é•¿å‰‘...                â”‚
â”‚                                     â”‚
â”‚                                     â”‚
â”‚                           12% â”€â”€â”€â—  â”‚  åº•éƒ¨è¿›åº¦
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ§åˆ¶æ–¹å¼:**
- å•å‡»ä¸­éƒ¨: æ˜¾ç¤º/éšè—èœå•
- ç‚¹å‡»å·¦ä¾§: ä¸Šä¸€é¡µ
- ç‚¹å‡»å³ä¾§: ä¸‹ä¸€é¡µ
- ä¸Šä¸‹æ»‘åŠ¨: è°ƒèŠ‚äº®åº¦
- å·¦å³æ»‘åŠ¨: ç¿»é¡µï¼ˆå¯é…ç½®ï¼‰

**å¿«æ·èœå•:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â†  ç¬¬12ç«  å‰‘æŒ‡è‹ç©¹        â˜°  âš™ï¸   â”‚  é¡¶éƒ¨èœå•æ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚         (é˜…è¯»å†…å®¹)                  â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”â”â”â”â”â”â”â”â—â”â”â”â”â”â”â”â” 12.5%          â”‚  è¿›åº¦æ¡
â”‚                                     â”‚
â”‚  [Aa] [ğŸ¨] [ğŸ“‘] [ğŸ’¡] [â‹¯]           â”‚  åŠŸèƒ½æŒ‰é’®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŠŸèƒ½æŒ‰é’®:**
- **Aa**: å­—ä½“è®¾ç½® (å­—å·ã€å­—ä½“ã€å­—é‡ã€å­—é—´è·)
- **ğŸ¨**: ä¸»é¢˜è®¾ç½® (èƒŒæ™¯è‰²ã€æ–‡å­—è‰²ã€ç¿»é¡µæ¨¡å¼)
- **ğŸ“‘**: ç›®å½• (ç« èŠ‚åˆ—è¡¨ã€ä¹¦ç­¾)
- **ğŸ’¡**: äº®åº¦è°ƒèŠ‚
- **â‹¯**: æ›´å¤š (å¬ä¹¦ã€å¤åˆ¶ã€åˆ†äº«)

### 4.3 ä¹¦æºç®¡ç†

**ä¹¦æºåˆ—è¡¨:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â†  ä¹¦æºç®¡ç†           + æ·»åŠ        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ” æœç´¢ä¹¦æº...                      â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âœ“ ğŸ“š èµ·ç‚¹ä¸­æ–‡ç½‘              â”‚  â”‚
â”‚  â”‚    çŠ¶æ€: æ­£å¸¸ | æƒé‡: 100    â”‚  â”‚
â”‚  â”‚    æœ€åæ›´æ–°: 2å¤©å‰            â”‚  â”‚
â”‚  â”‚    [ç¼–è¾‘] [æµ‹è¯•] [ç¦ç”¨]      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âœ“ ğŸ“š çºµæ¨ªä¸­æ–‡ç½‘              â”‚  â”‚
â”‚  â”‚    çŠ¶æ€: æ­£å¸¸ | æƒé‡: 90     â”‚  â”‚
â”‚  â”‚    æœ€åæ›´æ–°: 1å‘¨å‰            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âš ï¸ ğŸ“š æŸå°è¯´ç½‘               â”‚  â”‚
â”‚  â”‚    çŠ¶æ€: å¤±æ•ˆ | æƒé‡: 80     â”‚  â”‚
â”‚  â”‚    æœ€åæ›´æ–°: 1æœˆå‰            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ·»åŠ ä¹¦æº:**
- URL å¯¼å…¥
- JSON å¯¼å…¥
- äºŒç»´ç æ‰«æ
- åœ¨çº¿ä¹¦æºåº“

### 4.4 å‘ç°/æ¢ç´¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‘ç°                    ğŸ”         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  ğŸ”¥ çƒ­é—¨æ¨è                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ å°é¢ â”‚  â”‚ å°é¢ â”‚  â”‚ å°é¢ â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                     â”‚
â”‚  ğŸ“– åˆ†ç±»æµè§ˆ                        â”‚
â”‚  [ç„å¹»] [æ­¦ä¾ ] [éƒ½å¸‚] [ç§‘å¹»]       â”‚
â”‚  [è¨€æƒ…] [å†å²] [æ¸¸æˆ] [æ›´å¤š...]    â”‚
â”‚                                     â”‚
â”‚  ğŸ†• æœ€æ–°æ›´æ–°                        â”‚
â”‚  Â· ã€Šå‰‘æ¥ã€‹æ›´æ–°è‡³ç¬¬1245ç«            â”‚
â”‚  Â· ã€Šè¯¡ç§˜ä¹‹ä¸»ã€‹æ›´æ–°è‡³ç¬¬1390ç«        â”‚
â”‚  Â· ã€Šæˆ‘å¸ˆå…„å®åœ¨å¤ªç¨³å¥äº†ã€‹...        â”‚
â”‚                                     â”‚
â”‚  ğŸ“Š æ’è¡Œæ¦œ                          â”‚
â”‚  [æœˆæ¦œ] [æ€»æ¦œ] [æ–°ä¹¦æ¦œ]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## äº”ã€æ ¸å¿ƒæŠ€æœ¯å®ç°

### 5.1 ä¹¦æºè§„åˆ™å¼•æ“

**è§„åˆ™æ‰§è¡Œæµç¨‹:**

```
1. ç”¨æˆ·è§¦å‘æœç´¢/è·å–å†…å®¹
   â†“
2. é€‰æ‹©åŒ¹é…çš„ä¹¦æº
   â†“
3. æ„é€  HTTP è¯·æ±‚
   â†“
4. è·å–å“åº”å†…å®¹ (HTML/JSON)
   â†“
5. åº”ç”¨è§„åˆ™è§£æ
   â”œâ”€ XPath è§£æ
   â”œâ”€ CSS Selector è§£æ
   â”œâ”€ æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…
   â””â”€ JavaScript æ‰§è¡Œ (QuickJS)
   â†“
6. æå–ç»“æ„åŒ–æ•°æ®
   â†“
7. æ•°æ®éªŒè¯ä¸æ¸…æ´—
   â†“
8. å­˜å‚¨åˆ°æ•°æ®åº“
```

**è§„åˆ™ç¤ºä¾‹ (å…¼å®¹ Legado æ ¼å¼):**

```json
{
  "bookSourceUrl": "https://example.com",
  "bookSourceName": "ç¤ºä¾‹ä¹¦æº",
  "bookSourceType": 0,
  "enabled": true,
  "weight": 100,
  "searchUrl": "https://example.com/search?q={{key}}",
  "ruleSearch": {
    "bookList": "//div[@class='book-list']/div[@class='item']",
    "name": "h3.title@text",
    "author": "span.author@text",
    "bookUrl": "a@href",
    "coverUrl": "img@src",
    "intro": "p.intro@text"
  },
  "ruleBookInfo": {
    "name": "h1.book-title@text",
    "author": "div.author-name@text",
    "coverUrl": "img.cover@src",
    "intro": "div.book-intro@text",
    "kind": "span.category@text",
    "wordCount": "span.word-count@text",
    "lastChapter": "a.last-chapter@text",
    "tocUrl": "a.catalog-link@href"
  },
  "ruleToc": {
    "chapterList": "ul.chapter-list > li",
    "chapterName": "a@text",
    "chapterUrl": "a@href",
    "isVip": "span.vip",
    "updateTime": "span.time@text"
  },
  "ruleContent": {
    "content": "div.content@html",
    "nextContentUrl": "a.next-page@href"
  }
}
```

### 5.2 JavaScript å¼•æ“é›†æˆ

**QuickJS ä½¿ç”¨ç¤ºä¾‹:**

```dart
import 'package:flutter_qjs/flutter_qjs.dart';

class JSEngineService {
  late IsolateQjs _jsEngine;

  Future<void> init() async {
    _jsEngine = IsolateQjs(
      moduleHandler: (String module) {
        // å¤„ç†æ¨¡å—å¯¼å…¥
        return '';
      },
    );
  }

  Future<dynamic> evaluate(String script, [Map<String, dynamic>? context]) async {
    try {
      // æ³¨å…¥ä¸Šä¸‹æ–‡å˜é‡
      if (context != null) {
        for (var entry in context.entries) {
          await _jsEngine.evaluate('var ${entry.key} = ${jsonEncode(entry.value)};');
        }
      }

      // æ‰§è¡Œè„šæœ¬
      final result = await _jsEngine.evaluate(script);
      return result;
    } catch (e) {
      logger.error('JavaScript execution failed: $e');
      rethrow;
    }
  }

  void dispose() {
    _jsEngine.close();
  }
}
```

**è§„åˆ™ä¸­çš„ JS ä½¿ç”¨åœºæ™¯:**

```javascript
// åœºæ™¯1: URL åŠ å¯†
function encryptUrl(url) {
  const timestamp = Date.now();
  const sign = md5(url + timestamp + 'secret_key');
  return url + '?t=' + timestamp + '&sign=' + sign;
}

// åœºæ™¯2: å†…å®¹è§£å¯†
function decryptContent(encrypted) {
  return CryptoJS.AES.decrypt(encrypted, 'key').toString();
}

// åœºæ™¯3: åŠ¨æ€ç« èŠ‚åˆ—è¡¨
function getChapters(html) {
  const $ = cheerio.load(html);
  const chapters = [];
  $('.chapter-item').each((i, el) => {
    chapters.push({
      name: $(el).find('.title').text(),
      url: $(el).find('a').attr('href'),
    });
  });
  return JSON.stringify(chapters);
}
```

### 5.3 æ–‡æœ¬å¸ƒå±€å¼•æ“

**æ ¸å¿ƒç®—æ³•:**

```dart
class TextLayoutEngine {
  /// è®¡ç®—æ–‡æœ¬å¸ƒå±€
  Future<List<TextPage>> layoutText({
    required String content,
    required double pageWidth,
    required double pageHeight,
    required TextStyle textStyle,
    required EdgeInsets padding,
  }) async {
    final pages = <TextPage>[];

    // 1. åˆ†æ®µ
    final paragraphs = _splitParagraphs(content);

    // 2. åˆ›å»ºæ–‡æœ¬ç”»ç¬”
    final painter = TextPainter(
      textDirection: TextDirection.ltr,
      textAlign: TextAlign.justify,
    );

    // 3. è®¡ç®—å¯ç”¨ç©ºé—´
    final availableWidth = pageWidth - padding.horizontal;
    final availableHeight = pageHeight - padding.vertical;

    var currentPage = TextPage();
    var currentHeight = 0.0;

    // 4. é€æ®µå¸ƒå±€
    for (var paragraph in paragraphs) {
      painter.text = TextSpan(text: paragraph, style: textStyle);
      painter.layout(maxWidth: availableWidth);

      final paragraphHeight = painter.height;

      // æ£€æŸ¥æ˜¯å¦éœ€è¦åˆ†é¡µ
      if (currentHeight + paragraphHeight > availableHeight) {
        // ä¿å­˜å½“å‰é¡µ
        pages.add(currentPage);

        // åˆ›å»ºæ–°é¡µ
        currentPage = TextPage();
        currentHeight = 0;
      }

      currentPage.paragraphs.add(paragraph);
      currentHeight += paragraphHeight;
    }

    // æ·»åŠ æœ€åä¸€é¡µ
    if (currentPage.paragraphs.isNotEmpty) {
      pages.add(currentPage);
    }

    return pages;
  }

  List<String> _splitParagraphs(String content) {
    return content
        .split('\n')
        .map((p) => p.trim())
        .where((p) => p.isNotEmpty)
        .toList();
  }
}
```

### 5.4 ç¼“å­˜ç­–ç•¥

**å¤šçº§ç¼“å­˜:**

```dart
class CacheManager {
  // å†…å­˜ç¼“å­˜ (LRU)
  final _memoryCache = LruCache<String, String>(maxSize: 50);

  // ç£ç›˜ç¼“å­˜
  final _diskCache = DiskCache();

  /// è·å–ç« èŠ‚å†…å®¹
  Future<String?> getChapterContent(String bookUrl, int chapterIndex) async {
    final key = '${bookUrl}_$chapterIndex';

    // 1. å°è¯•å†…å­˜ç¼“å­˜
    var content = _memoryCache.get(key);
    if (content != null) {
      return content;
    }

    // 2. å°è¯•ç£ç›˜ç¼“å­˜
    content = await _diskCache.get(key);
    if (content != null) {
      // å†™å…¥å†…å­˜ç¼“å­˜
      _memoryCache.put(key, content);
      return content;
    }

    return null;
  }

  /// ç¼“å­˜ç« èŠ‚å†…å®¹
  Future<void> cacheChapterContent(
    String bookUrl,
    int chapterIndex,
    String content,
  ) async {
    final key = '${bookUrl}_$chapterIndex';

    // å†™å…¥å†…å­˜ç¼“å­˜
    _memoryCache.put(key, content);

    // å†™å…¥ç£ç›˜ç¼“å­˜
    await _diskCache.put(key, content);
  }

  /// æ¸…ç†ç¼“å­˜
  Future<void> clearCache() async {
    _memoryCache.clear();
    await _diskCache.clear();
  }
}
```

---

## å…­ã€å¼€å‘è§„èŒƒ

### 6.1 ä»£ç è§„èŒƒ

**Dart ä»£ç é£æ ¼:**

```dart
// âœ… å¥½çš„å‘½å
class BookRepository {}
final bookList = <Book>[];
Future<Book> fetchBook() async {}

// âŒ ä¸å¥½çš„å‘½å
class book_repository {}
final list = <Book>[];
Future<Book> getbook() async {}

// âœ… ä½¿ç”¨ const å’Œ final
const apiUrl = 'https://api.example.com';
final currentUser = User();

// âŒ é¿å…ä¸å¿…è¦çš„ var
var apiUrl = 'https://api.example.com';  // åº”è¯¥ç”¨ const
var currentUser = User();                 // åº”è¯¥ç”¨ final

// âœ… å¼‚æ­¥å‡½æ•°
Future<void> loadData() async {
  final data = await repository.fetchData();
  setState(() {
    _data = data;
  });
}

// âœ… ç©ºå®‰å…¨
String? nullableString;
String nonNullString = nullableString ?? 'default';

// âœ… ä½¿ç”¨ Freezed å®šä¹‰æ•°æ®ç±»
@freezed
class Book with _$Book {
  const factory Book({
    required String id,
    required String name,
    String? author,
    @Default([]) List<Chapter> chapters,
  }) = _Book;

  factory Book.fromJson(Map<String, dynamic> json) => _$BookFromJson(json);
}
```

**æ–‡ä»¶ç»„ç»‡:**

```dart
// lib/data/models/book_model.dart

// 1. å¯¼å…¥ (æŒ‰é¡ºåº)
import 'dart:async';                    // Dart SDK
import 'dart:io';

import 'package:flutter/material.dart';  // Flutter
import 'package:flutter/services.dart';

import 'package:dio/dio.dart';           // ç¬¬ä¸‰æ–¹åŒ…
import 'package:freezed_annotation/freezed_annotation.dart';

import 'package:vortex/core/utils/logger.dart';  // é¡¹ç›®å†…éƒ¨

// 2. Part å£°æ˜
part 'book_model.freezed.dart';
part 'book_model.g.dart';

// 3. ç±»å®šä¹‰
@freezed
class BookModel with _$BookModel {
  // ...
}
```

### 6.2 Git æäº¤è§„èŒƒ

**Commit Message æ ¼å¼:**

```
<type>(<scope>): <subject>

<body>

<footer>
```

**ç±»å‹ (type):**
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤ bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `refactor`: é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·é…ç½®

**ç¤ºä¾‹:**

```
feat(reading): æ·»åŠ ç¿»é¡µåŠ¨ç”»æ•ˆæœ

- å®ç°ä»¿çœŸç¿»é¡µåŠ¨ç”»
- æ”¯æŒæ»‘åŠ¨ç¿»é¡µ
- æ·»åŠ åŠ¨ç”»é€Ÿåº¦é…ç½®

Closes #123
```

### 6.3 æµ‹è¯•è§„èŒƒ

**å•å…ƒæµ‹è¯•:**

```dart
// test/domain/usecases/get_books_test.dart

import 'package:flutter_test/flutter_test.dart';
import 'package:mockito/mockito.dart';

void main() {
  late GetBooks useCase;
  late MockBookRepository mockRepository;

  setUp(() {
    mockRepository = MockBookRepository();
    useCase = GetBooks(mockRepository);
  });

  group('GetBooks', () {
    test('should return list of books from repository', () async {
      // arrange
      final books = [Book(id: '1', name: 'Test Book')];
      when(mockRepository.getBooks()).thenAnswer((_) async => books);

      // act
      final result = await useCase();

      // assert
      expect(result, books);
      verify(mockRepository.getBooks()).called(1);
    });
  });
}
```

**Widget æµ‹è¯•:**

```dart
// test/presentation/pages/bookshelf_page_test.dart

void main() {
  testWidgets('BookshelfPage shows loading indicator', (tester) async {
    // Build widget
    await tester.pumpWidget(
      MaterialApp(
        home: BookshelfPage(),
      ),
    );

    // Verify loading indicator
    expect(find.byType(CircularProgressIndicator), findsOneWidget);
  });
}
```

---

## ä¸ƒã€å®æ–½è·¯çº¿å›¾

### ç¬¬ä¸€é˜¶æ®µ: åŸºç¡€è®¾æ–½ (Week 1-2)

**ç›®æ ‡:** æ­å»ºé¡¹ç›®åŸºç¡€æ¡†æ¶

- [x] åˆ›å»º Flutter é¡¹ç›®
- [ ] é…ç½®ä¾èµ–å’Œæ„å»º
- [ ] å®ç°ä¸»é¢˜ç³»ç»Ÿ
- [ ] æ­å»ºè·¯ç”±
- [ ] è®¾ç½® CI/CD

### ç¬¬äºŒé˜¶æ®µ: æ•°æ®å±‚ (Week 3-4)

**ç›®æ ‡:** å®Œæˆæ•°æ®å­˜å‚¨å’Œç½‘ç»œå±‚

- [ ] è®¾è®¡æ•°æ®åº“ Schema
- [ ] å®ç° Repository å±‚
- [ ] å°è£…ç½‘ç»œè¯·æ±‚
- [ ] å®ç°ç¼“å­˜æœºåˆ¶

### ç¬¬ä¸‰é˜¶æ®µ: ä¹¦æºç³»ç»Ÿ (Week 5-7)

**ç›®æ ‡:** å®ç°æ ¸å¿ƒä¹¦æºåŠŸèƒ½

- [ ] ä¹¦æºæ¨¡å‹è®¾è®¡
- [ ] è§„åˆ™è§£æå¼•æ“
- [ ] QuickJS é›†æˆ
- [ ] HTML/XPath è§£æ
- [ ] ä¹¦æºç®¡ç†ç•Œé¢

### ç¬¬å››é˜¶æ®µ: é˜…è¯»åŠŸèƒ½ (Week 8-11)

**ç›®æ ‡:** å®Œæˆé˜…è¯»ä½“éªŒ

- [ ] ä¹¦æ¶ç•Œé¢
- [ ] é˜…è¯»å™¨æ ¸å¿ƒ
- [ ] æ–‡æœ¬å¸ƒå±€å¼•æ“
- [ ] ç¿»é¡µåŠ¨ç”»
- [ ] é˜…è¯»è®¾ç½®

### ç¬¬äº”é˜¶æ®µ: é«˜çº§åŠŸèƒ½ (Week 12-14)

**ç›®æ ‡:** å®Œå–„è¾…åŠ©åŠŸèƒ½

- [ ] æœ¬åœ°å¯¼å…¥ (EPUB, TXT)
- [ ] WebDAV åŒæ­¥
- [ ] å†…å®¹æ›¿æ¢è§„åˆ™
- [ ] æœç´¢åŠŸèƒ½

### ç¬¬å…­é˜¶æ®µ: ä¼˜åŒ–ä¸å‘å¸ƒ (Week 15-16)

**ç›®æ ‡:** ä¼˜åŒ–å’Œä¸Šçº¿

- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] UI è°ƒä¼˜
- [ ] æµ‹è¯•ä¸ä¿®å¤
- [ ] åº”ç”¨å•†åº—æäº¤

---

## å…«ã€é™„å½•

### A. è®¾è®¡èµ„æº

**å­—ä½“èµ„æº:**
- æ€æºå®‹ä½“: https://github.com/adobe-fonts/source-han-serif
- æ€æºé»‘ä½“: https://github.com/adobe-fonts/source-han-sans
- Inter: https://rsms.me/inter/

**å›¾æ ‡èµ„æº:**
- Material Icons: https://fonts.google.com/icons
- SF Symbols (iOS): https://developer.apple.com/sf-symbols/

**è®¾è®¡å·¥å…·:**
- Figma: UI è®¾è®¡
- ColorSpace: é…è‰²æ–¹æ¡ˆ
- Type Scale: å­—å·ç³»ç»Ÿ

### B. å‚è€ƒåº”ç”¨

**UI å‚è€ƒ:**
- å¾®ä¿¡è¯»ä¹¦: ç®€çº¦é£æ ¼
- Notion: ç°ä»£å¡ç‰‡è®¾è®¡
- Telegram: æµç•…åŠ¨ç”»

**åŠŸèƒ½å‚è€ƒ:**
- Legado: ä¹¦æºç³»ç»Ÿ
- Kindle: é˜…è¯»ä½“éªŒ
- èµ·ç‚¹è¯»ä¹¦: ä¹¦æ¶ç®¡ç†

### C. æŠ€æœ¯æ–‡æ¡£

- Flutter å®˜æ–¹æ–‡æ¡£: https://flutter.dev/docs
- Material Design 3: https://m3.material.io/
- Riverpod æ–‡æ¡£: https://riverpod.dev/
- Isar æ–‡æ¡£: https://isar.dev/

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0
**æœ€åæ›´æ–°**: 2026-01-07
**ç»´æŠ¤è€…**: Vortex Team
